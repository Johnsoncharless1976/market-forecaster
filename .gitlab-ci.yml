# GitLab CI configuration for Zen Market AI
# Runs daily forecast, ingests data, emails results

# .gitlab-ci.yml
stages:
  - ingest

variables:
  PIP_DISABLE_PIP_VERSION_CHECK: "1"
  PIP_NO_CACHE_DIR: "1"

before_script:
  # Update pip and install dependencies
  - python -m pip install --upgrade pip
  - pip install -r requirements.txt

ingest_data:
  stage: ingest
  image: python:3.11-slim
  script:
    - python src/data_ingestion.py
  only:
    - main   # run only on the main branch
