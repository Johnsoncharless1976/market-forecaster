# GitLab CI configuration for Zen Market AI
# Runs daily forecast, ingests data, emails results

stages:
  - ingest

daily_ingestion:
  stage: ingest
  script:
    - echo "ðŸš€ Running Stage 1.3 â€“ Ingestion + Monitoring + Alerting"
    - python src/data_ingestion.py
  rules:
    - if: '$CI_PIPELINE_SOURCE == "schedule"'
      when: always
    - if: '$CI_COMMIT_BRANCH == "main"'
      when: manual
  tags:
    - python
  only:
    - main
