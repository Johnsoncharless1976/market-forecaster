# GitLab CI configuration for Zen Market AI
# Runs daily forecast, ingests data, emails results

stages:
  - ingest
  - forecast

ingest-data:
  stage: ingest
  image: python:3.11-slim
  script:
    - pip install -r requirements.txt
    - python src/data_ingestion.py
  only:
    - main

send-forecast:
  stage: forecast
  image: python:3.11-slim
  script:
    - pip install -r requirements.txt
    - python src/forecast.py
  only:
    - main
  needs:
    - ingest-data
